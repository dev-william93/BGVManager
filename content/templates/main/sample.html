<!-- <div class="mt-2 border border-dark rounded p-3">
                        <h5>
                            Employment
                        </h5>
                        <div id="employment_container">
                            <div class="row mt-3">
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="First name">
                                </div>
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Last name">
                                </div>
                                <div class="col">
                                    <input type="text" class="form-control" placeholder="Last name">
                                </div>
                            </div>
                        </div>
                        <p class="mt-3" style="cursor: pointer; width: fit-content;" onclick="addEmployer()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
                                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                            </svg>
                        </p>
                    </div> -->

<div class="row mt-3">
    <div class="col"> <input type="text" class="form-control" placeholder="Company Name"> </div>
    <div class="col"> <input type="text" class="form-control" placeholder="Role"> </div>
</div>
<div class="row mt-3">
    <div class="col"> <input type="date" class="form-control" placeholder="Date Of Joining"> </div>
    <div class="col"> <input type="date" class="form-control" placeholder="Last Working Date"> </div>
</div>


<div class="row mt-3">
    <div class="col"> <input type="text" class="form-control" placeholder="College Name"> </div>
    <div class="col"> <input type="text" class="form-control" placeholder="Degree"> </div>
</div>
<div class="row mt-3">
    <div class="col"> <input type="month" class="form-control" placeholder="Year of Joining"> </div>
    <div class="col"> <input type="month" class="form-control" placeholder="Year of Graduation"> </div>
</div>

{% extends 'layouts/default/page.html' %}

{% load bootstrap4 %}
{% load i18n %}

{% block content %}

{% block styles %}
<style>
    #id_education,
    #id_employment,
    #id_candidate,
    label[for=id_education],
    label[for=id_employment],
    label[for=id_candidate] {
        display: none;
    }

    input::file-selector-button {
        border: 0;
    }

    .main_container {
        width: 75%;
    }

    @media screen and (max-width: 800px) {
        .main_container {
            width: 100%
        }
    }
</style>
{% endblock %}

{% if request.user.is_authenticated %}

<div class="main_container m-auto" style="display:flex; justify-content: center; margin: auto;">
    <div class="w-100" style="align-self: center; ">
        <div class="w-100" class="customForm">
            <h3 class="card-header rounded">
                Submit Documents
            </h3>
            <div class="formpad">
                <div class="mt-2 border border-dark rounded p-3">
                    <form class="w-100" id="employeeForm" method='post' enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="d-flex justify-content-between">
                            <h5>
                                Employment History (Starting From Latest)
                            </h5>
                            <!-- <button type="submit" style="height: fit-content;" class="btn btn-warning"> Save </button> -->
                        </div>
                        <div id="employment_container">
                            <div id="employer0">
                                <div class="row mt-3">
                                    <div class="col">
                                        <input required type="text" name="companyName" class="form-control"
                                            placeholder="Company Name">
                                    </div>
                                    <div class="col">
                                        <input required type="text" name="role" class="form-control" placeholder="Role">
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col">
                                        <input required type="date" name="doj" class="form-control"
                                            placeholder="Date Of Joining">
                                    </div>
                                    <div class="col">
                                        <input required type="date" name="lwd" class="form-control"
                                            placeholder="Last Working Date">
                                    </div>
                                </div>
                                <div class="row mt-3">
                                    <div class="col">
                                        <input required type="tel" name="HRContact" class="form-control"
                                            placeholder="HR Contact Number">
                                    </div>
                                    <div class="col">
                                        <input required type="email" name="HREmail" class="form-control"
                                            placeholder="HR Email ID">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="align-items-center" style="justify-content: space-between; display: flex;">
                            <p class="mt-3" style="cursor: pointer; width: fit-content;" onclick="addEmployer()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-plus-circle" viewBox="0 0 16 16">
                                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                    <path
                                        d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
                                </svg>
                            </p>
                            <button type="button" id="removeEmployerButton" style="height: fit-content; display: none;"
                                class="btn btn-warning"
                                onclick="removeElement(this, `employer${employment_container.children.length}`, 'employment_container')">
                                Delete
                            </button>
                        </div>
                    </form>
                </div>
                <div class="mt-2 border border-dark rounded p-3">
                    <div class="d-flex justify-content-between">
                        <h5>
                            Highest Education
                        </h5>
                        <!-- <button type="submit" style="height: fit-content;" class="btn btn-warning"> Save </button> -->
                    </div>
                    <div id="education_container">
                        <div id="educate0">
                            <div class="row mt-3">
                                <div class="col">
                                    <input required type="text" name="collegeName" class="form-control"
                                        placeholder="College Name">
                                </div>
                                <div class="col">
                                    <input required type="text" name="degree" class="form-control" placeholder="Degree">
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <input required type="month" name="yoj" class="form-control"
                                        placeholder="Year of Joining">
                                </div>
                                <div class="col">
                                    <input required type="month" name="yog" class="form-control"
                                        placeholder="Year of Graduation">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-2 border border-dark rounded p-3">
                    {% bootstrap_form form %}
                </div>
                <div class="m-3 d-flex justify-content-around">
                    <input class="btn btn-info" type="button" value="Cancel">
                    <input class="btn btn-primary" onclick="formSubmission()" type="button" value="Submit">
                </div>
            </div>
        </div>
    </div>
</div>

{% endif %}

{% endblock %}

{% block script %}

<script>
    function addEmployer() {
        let employment_container = document.getElementById("employment_container")
        let addEmployerFields = `<hr/> <div id='employer${employment_container.children.length}'><div class="row mt-3"> <div class="col"> <input required type="text" name="companyName" class="form-control" placeholder="Company Name"> </div> <div class="col"> <input required type="text" name="role" class="form-control" placeholder="Role"> </div> </div> <div class="row mt-3"> <div class="col"> <input required type="date" name="doj" class="form-control" placeholder="Date Of Joining"> </div> <div class="col"> <input required type="date" name="lwd" class="form-control" placeholder="Last Working Date"> </div> </div> <div class="row mt-3"> <div class="col"> <input required type="tel" name="HRContact" class="form-control" placeholder="HR Contact Number"> </div> <div class="col"> <input required type="email" name="HREmail" class="form-control" placeholder="HR Email ID"> </div> </div> </div>`
        // employment_container.innerHTML = employment_container.innerHTML + addEmployerFields
        employment_container.insertAdjacentHTML('beforeend', addEmployerFields)
        // employment_container.appendChild(addEmployerFields)
        if (employment_container.children.length > 1) {
            document.getElementById("removeEmployerButton").style.display = "block"
        } else {
            document.getElementById("removeEmployerButton").style.display = "none"
        }
    }

    // function addEducation(){
    //     let education_container = document.getElementById("education_container")
    //     let addEducationFields = `<hr/> <div id='educate${education_container.children.length}'> <div class="row mt-3"> <div class="col"> <input type="text" name="collegeName" class="form-control" placeholder="College Name"> </div> <div class="col"> <input type="text" name="degree" class="form-control" placeholder="Degree"> </div> </div> <div class="row mt-3"> <div class="col"> <input type="month" name="yoj" class="form-control" placeholder="Year of Joining"> </div> <div class="col"> <input type="month" name="yog" class="form-control" placeholder="Year of Graduation"> </div> </div> </div>`
    //     // education_container.innerHTML = education_container.innerHTML + addEducationFields
    //     education_container.innerHTML += addEducationFields
    //     // education_container.appendChild(addEducationFields)
    //     if(education_container.children.length > 1){
    //         document.getElementById("removeEducationButton").style.display = "block"
    //     }else{
    //         document.getElementById("removeEducationButton").style.display = "none"
    //     }
    // }

    function removeElement(element, elementId, elementType) {
        let listHolder = document.getElementById(elementType)
        listHolder.removeChild(listHolder.lastElementChild);
        listHolder.removeChild(listHolder.lastElementChild);
        if (listHolder.children.length > 1) {
            element.style.display = "block";
        } else {
            element.style.display = "none";
        }
    }

    function formSubmission() {
        let employerCompany = [...document.querySelectorAll('[name^="companyName"]')];
        let employerRole = [...document.querySelectorAll('[name^="role"]')];
        let employerDoj = [...document.querySelectorAll('[name^="doj"]')];
        let employerLwj = [...document.querySelectorAll('[name^="lwd"]')];
        let employerHRContact = [...document.querySelectorAll('[name^="HRContact"]')];
        let employerHREmail = [...document.querySelectorAll('[name^="HREmail"]')];

        // let collegeName = [...document.querySelectorAll('[name^="collegeName"]')];
        // let degree = [...document.querySelectorAll('[name^="degree"]')];
        // let yoj = [...document.querySelectorAll('[name^="yoj"]')];
        // let yog = [...document.querySelectorAll('[name^="yog"]')];

        let formEmployer = []
        let formEducation = []

        employerCompany.forEach((element, idx) => {
            formEmployer.push({
                "employerName": employerCompany[idx].value,
                "role": employerRole[idx].value,
                "dateOfJoining": employerDoj[idx].value,
                "lastWorkingDay": employerLwj[idx].value,
                "hrContact": employerHRContact[idx].value,
                "hrEmail": employerHREmail[idx].value,
            })
        });

        // collegeName.forEach((element, idx) => {
        //     formEducation.push({
        //         "collegeName": collegeName[idx].value,
        //         "degree": degree[idx].value,
        //         "yearOfJoining": yoj[idx].value,
        //         "yearOfGraduation": yog[idx].value,
        //     })
        // });

        document.getElementById("id_education").value = JSON.stringify(formEducation);
        document.getElementById("id_employment").value = JSON.stringify(formEmployer);
        document.getElementById("id_candidate").value = "{{request.user.pk}}";

        document.getElementById("employeeForm").submit();
    }
</script>

{% endblock %}





{% extends 'layouts/default/page.html' %}

{% load i18n %}

{% block content %}

{% block styles %}
<style>
    table {
        text-align: center;
    }

    th,
    tr,
    td {
        border: 1px solid rgba(0, 0, 0, .125);
        padding: 0.5rem;
    }

    th {
        font-size: larger;
    }

    .inprogress {
        font-weight: bold;
        color: #ffc107;
    }

    .submitted {
        font-weight: bold;
        color: #6c757d;
    }

    .rejected {
        font-weight: bold;
        color: #dc3545;
    }

    .success {
        font-weight: bold;
        color: #28a745;
    }

    .main_container {
        width: 75%;
        margin: auto;
    }

    @media screen and (max-width: 800px) {
        .main_container {
            width: 100%
        }
    }
</style>
{% endblock %}

{% if request.user.is_authenticated %}

<div class="m-auto" style="display:flex; justify-content: center; margin: auto;">
    <div class="w-100" style="align-self: center; ">
        <div class="w-100" class="customForm">
            <h3 class="card-header rounded">
                {{employee_record.candidate.first_name|title}} {{employee_record.candidate.last_name|title}}
                Verification Process
            </h3>
            <div class="formpad d-flex justify-content-between">
                <table class="mt-3 w-100 mr-3">
                    <tr>
                        <th>Checks</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>First Name</td>
                        <td>{{employee_record.candidate.first_name|title}}</td>
                    </tr>
                    <tr>
                        <td>Last Name</td>
                        <td>{{employee_record.candidate.last_name|title}}</td>
                    </tr>
                    <tr>
                        <td>Aadhar Number</td>
                        <td>{{employee_record.employee_store.aadhar}}</td>
                    </tr>
                    <tr>
                        <td>Pan Card</td>
                        <td>{{employee_record.employee_store.pan}}</td>
                    </tr>
                    <tr>
                        <td>Passport</td>
                        <td>{{employee_record.employee_store.passport}}</td>
                    </tr>
                    <tr>
                        <td>Address</td>
                        <td>{{employee_record.employee_store.address}}</td>
                    </tr>
                    <form class="w-100" id="candidateForm" method='post' enctype="multipart/form-data">
                        {% csrf_token %}
                        <tr>
                            <td>Employment</td>
                            <td class="{{employee_record.employment_status}}">
                                <select onchange="changeForm(this)" class="form-control" name="employment_status"
                                    id="id_employment_status">
                                    <option value="submitted">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Education</td>
                            <td class="{{employee_record.education_status}}">
                                <select onchange="changeForm(this)" class="form-control" name="education_status"
                                    id="id_education_status">
                                    <option value="submitted">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Address</td>
                            <td class="{{employee_record.address_status}}">
                                <select onchange="changeForm(this)" class="form-control" name="address_status"
                                    id="id_address_status">
                                    <option value="submitted" selected="">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Passport</td>
                            <td class="{{employee_record.passport_status}}">
                                <select onchange="changeForm(this)" class="form-control" name="passport_status"
                                    id="id_passport_status">
                                    <option value="submitted" selected="">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Court</td>
                            <td class="{{employee_record.court_status}}">
                                <select onchange="changeForm(this)" class="form-control" name="court_status"
                                    id="id_court_status">
                                    <option value="submitted" selected="">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </td>
                        </tr>
                    </form>
                </table>
                <table class="mt-3" style="height: fit-content;">
                    <tr>
                        <th>Files</th>
                        <th>Download Link</th>
                    </tr>
                    <tr>
                        <td>Form 16</td>
                        <td>
                            <a href="/media/{{employee_record.employee_store.form16_file}}">
                                {{employee_record.employee_store.form16_filename}}
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Aadhar Card</td>
                        <td>
                            <a href="/media/{{employee_record.employee_store.aadhar_file}}">
                                {{employee_record.employee_store.aadhar_filename}}
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Education Document</td>
                        <td>
                            <a href="/media/{{employee_record.employee_store.education_file}}">
                                {{employee_record.employee_store.education_filename}}
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <td>Employment Document</td>
                        <td>
                            <a href="/media/{{employee_record.employee_store.employment_file}}">
                                {{employee_record.employee_store.employment_filename}}
                            </a>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="d-flex justify-content-center mt-5">
                <button class="btn btn-primary" type="button" onclick="history.back();">Back</button>
            </div>
        </div>
    </div>
</div>

{% endif %}

{% endblock %}

{% block script %}

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let education = "{{employee_record.education_status}}";
        let employment = "{{employee_record.employment_status}}";
        let passport = "{{employee_record.passport_status}}";
        let address = "{{employee_record.address_status}}";
        let court = "{{employee_record.court_status}}";

        let employment_element = document.getElementById("id_employment_status");
        let education_element = document.getElementById("id_education_status");
        let passport_element = document.getElementById("id_passport_status");
        let address_element = document.getElementById("id_address_status");
        let court_element = document.getElementById("id_court_status");

        employment_element.value = employment;
        education_element.value = education;
        passport_element.value = passport;
        address_element.value = address;
        court_element.value = court;
    });

    function changeForm(){
        document.getElementById("candidateForm").submit();
    }

</script>

{% endblock %}


function addEducation(){
    let education_container = document.getElementById("education_container")
    let addEducationFields = `<hr/> <div id='educate${education_container.children.length}'> <div class="row mt-3"> <div class="col"> <input type="text" name="collegeName" class="form-control" placeholder="College Name"> </div> <div class="col"> <input type="text" name="degree" class="form-control" placeholder="Degree"> </div> </div> <div class="row mt-3"> <div class="col"> <input type="month" name="yoj" class="form-control" placeholder="Year of Joining"> </div> <div class="col"> <input type="month" name="yog" class="form-control" placeholder="Year of Graduation"> </div> </div> </div>`
    // education_container.innerHTML = education_container.innerHTML + addEducationFields
    education_container.innerHTML += addEducationFields
    // education_container.appendChild(addEducationFields)
    if(education_container.children.length > 1){
        document.getElementById("removeEducationButton").style.display = "block"
    }else{
        document.getElementById("removeEducationButton").style.display = "none"
    }
}

let collegeName = [...document.querySelectorAll('[name^="collegeName"]')];
let degree = [...document.querySelectorAll('[name^="degree"]')];
let yoj = [...document.querySelectorAll('[name^="yoj"]')];
let yog = [...document.querySelectorAll('[name^="yog"]')];

collegeName.forEach((element, idx) => {
    formEducation.push({
        "collegeName": collegeName[idx].value,
        "degree": degree[idx].value,
        "yearOfJoining": yoj[idx].value,
        "yearOfGraduation": yog[idx].value,
    })
});




{% extends 'layouts/default/page.html' %}

{% load i18n %}

{% block content %}

{% block styles %}
<style>
    table {
        text-align: center;
    }

    th,
    tr,
    td {
        border: 1px solid rgba(0, 0, 0, .125);
        padding: 0.5rem;
    }

    th {
        font-size: larger;
    }

    .inprogress {
        font-weight: bold;
        color: #ffc107;
    }

    .submitted {
        font-weight: bold;
        color: #6c757d;
    }

    .rejected {
        font-weight: bold;
        color: #dc3545;
    }

    .success {
        font-weight: bold;
        color: #28a745;
    }

    .main_container {
        width: 75%;
        margin: auto;
    }

    select{
        width: fit-content !important;
    }

    @media screen and (max-width: 800px) {
        .main_container {
            width: 100%
        }
    }
</style>
{% endblock %}

{% if request.user.is_authenticated %}

<div class="m-auto" style="display:flex; justify-content: center; margin: auto;">
    <div class="w-100" style="align-self: center; ">
        <div class="w-100" class="customForm">
            <h3 class="card-header rounded">
                {{employee_record.candidate.first_name|title}} {{employee_record.candidate.last_name|title}}
                Verification Process
            </h3>
            <form class="w-100" id="candidateForm" method='post' enctype="multipart/form-data"
                onsubmit="formSubmission()">
                {% csrf_token %}
                <div class="formpad">
                    <div class="mt-2 border border-dark rounded p-3">
                        <div class="d-flex justify-content-between">
                            <h5>
                                Employment History (Starting From Latest)
                            </h5>
                            <!-- <button type="submit" style="height: fit-content;" class="btn btn-warning"> Save </button> -->
                            <select onchange="changeForm(this)" class="form-control" name="employment_status"
                                id="id_employment_status">
                                <option value="submitted">Submitted</option>
                                <option value="rejected">Rejected</option>
                                <option value="inprogress">In Progress</option>
                                <option value="success">Success</option>
                            </select>
                        </div>
                        <div id="employment_container">
                            
                        </div>
                    </div>
                    <div class="mt-2 border border-dark rounded p-3">
                        <div class="d-flex justify-content-between">
                            <h5>
                                Highest Education
                            </h5>
                            <!-- <button type="submit" style="height: fit-content;" class="btn btn-warning"> Save </button> -->
                            <select onchange="changeForm(this)" class="form-control" name="education_status"
                                id="id_education_status">
                                <option value="submitted">Submitted</option>
                                <option value="rejected">Rejected</option>
                                <option value="inprogress">In Progress</option>
                                <option value="success">Success</option>
                            </select>
                        </div>
                        <div id="education_container">
                            
                        </div>
                    </div>
                    <div class="mt-2 border border-dark rounded p-3">
                        <div class="d-flex justify-content-between">
                            <h5>
                                Address Proof
                            </h5>
                            <!-- <button type="submit" style="height: fit-content;" class="btn btn-warning"> Save </button> -->
                        </div>
                        <div class="d-flex mt-3 justify-content-around">
                            <div>
                                <label for="address_status">Address Check</label>
                                <select onchange="changeForm(this)" class="form-control" name="address_status"
                                    id="id_address_status">
                                    <option value="submitted" selected="">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </div>
                            <div>
                                <label for="address_status">Passport Check</label>
                                <select onchange="changeForm(this)" class="form-control" name="passport_status"
                                    id="id_passport_status">
                                    <option value="submitted" selected="">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </div>
                            <div>
                                <label for="address_status">Court Check</label>
                                <select onchange="changeForm(this)" class="form-control" name="court_status"
                                    id="id_court_status">
                                    <option value="submitted" selected="">Submitted</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="inprogress">In Progress</option>
                                    <option value="success">Success</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            <label for="aadhar">Aadhar Number</label>
                            <input type="text" name="aadhar" class="form-control" disabled="true" maxlength="12"
                                placeholder="Aadhar Number" title="" id="aadhar"
                                value="{{employee_record.employee_store.aadhar}}"
                            >
                        </div>
                        <div class="form-group">
                            <label for="pan">Pan Number</label>
                            <input type="text" name="pan" class="form-control" disabled="true" maxlength="10"
                                placeholder="Pan Number" title="" id="pan"
                                value="{{employee_record.employee_store.pan}}"
                            >
                        </div>
                        <div class="form-group">
                            <label for="passport">
                                Passport Number
                            </label>
                            <input type="text" name="passport" class="form-control" disabled="true" maxlength="20"
                                placeholder="Passport Number" title="" id="passport"
                                value="{{employee_record.employee_store.passport}}"
                            >
                        </div>
                        <div class="form-group">
                            <label for="address">Present Address From To</label>
                            <textarea name="address" cols="40" rows="10" class="form-control" disabled="true"
                                maxlength="250" placeholder="Present Address From To" title="" id="address"
                                spellcheck="false">
                                {{employee_record.employee_store.address}}
                            </textarea>
                        </div>
                    </div>
                    <div class="mt-2 border border-dark rounded p-3">
                        <div>
                            <div class="d-flex justify-content-between">
                                <h5>
                                    Uploaded Documents
                                </h5>
                                <i class="pr text-primary" style="cursor: pointer;" onclick="downloadFiles()">
                                    Download All
                                </i>
                            </div>
                            <table class="mt-3 w-100" style="height: fit-content;">
                                <tr>
                                    <th>Files</th>
                                    <th>Download Link</th>
                                </tr>
                                <tr>
                                    <td>Form 16</td>
                                    <td>
                                        <a name="downloadDoc" href="/media/{{employee_record.employee_store.form16_file}}">
                                            {{employee_record.employee_store.form16_filename}}
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Aadhar Card</td>
                                    <td>
                                        <a name="downloadDoc" href="/media/{{employee_record.employee_store.aadhar_file}}">
                                            {{employee_record.employee_store.aadhar_filename}}
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Education Document</td>
                                    <td>
                                        <a name="downloadDoc" href="/media/{{employee_record.employee_store.education_file}}">
                                            {{employee_record.employee_store.education_filename}}
                                        </a>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Employment Document</td>
                                    <td>
                                        <a name="downloadDoc" href="/media/{{employee_record.employee_store.employment_file}}">
                                            {{employee_record.employee_store.employment_filename}}
                                        </a>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-around mt-5">
                    <button class="btn btn-info" type="button" onclick="history.back();">Back</button>
                    <button class="btn btn-primary" type="button" onclick="history.back();">Generate Report</button>
                </div>
            </form>
        </div>
    </div>
</div>

{% endif %}

{% endblock %}

{% block script %}

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let education_status = "{{employee_record.education_status}}";
        let employment_status = "{{employee_record.employment_status}}";
        let passport_status = "{{employee_record.passport_status}}";
        let address_status = "{{employee_record.address_status}}";
        let court_status = "{{employee_record.court_status}}";

        let employment_element = document.getElementById("id_employment_status");
        let education_element = document.getElementById("id_education_status");
        let passport_element = document.getElementById("id_passport_status");
        let address_element = document.getElementById("id_address_status");
        let court_element = document.getElementById("id_court_status");

        employment_element.value = education_status;
        education_element.value = employment_status;
        passport_element.value = passport_status;
        address_element.value = address_status;
        court_element.value = court_status;

        let education = "{{employee_record.employee_store.education}}".replaceAll("&#x27;", '"');
        let education_obj = []
        if(education){
            education_obj = JSON.parse(education)
        }

        let employment = "{{employee_record.employee_store.employment}}".replaceAll("&#x27;", '"');
        let employment_obj = JSON.parse(employment)


        if(employment_obj.length >= 1){
            employment_obj.forEach(element => {
                let employment_container = document.getElementById("employment_container")
                let addEmployerFields = `<div id='employer${employment_container.children.length}'><div class="row mt-3"> <div class="col"> <input required type="text" name="companyName" disabled value=${element.employerName} class="form-control" placeholder="Company Name"> </div> <div class="col"> <input required type="text" disabled value=${element.role} name="role" class="form-control" placeholder="Role"> </div> </div> <div class="row mt-3"> <div class="col"> <input required type="date" disabled value=${element.dateOfJoining} name="doj" class="form-control" placeholder="Date Of Joining"> </div> <div class="col"> <input required type="date" disabled value=${element.lastWorkingDay} name="lwd" class="form-control" placeholder="Last Working Date"> </div> </div> <div class="row mt-3"> <div class="col"> <input required type="tel" disabled value=${element.hrContact} name="HRContact" class="form-control" placeholder="HR Contact Number"> </div> <div class="col"> <input required type="email" disabled value=${element.hrEmail} name="HREmail" class="form-control" placeholder="HR Email ID"> </div> </div> </div> <hr/> `
                employment_container.insertAdjacentHTML('beforeend', addEmployerFields)
            });
        }

        if(education_obj.length >= 1){
            education_obj.forEach(element => {
                let education_container = document.getElementById("education_container")
                let addCompanyFields = `<div id='employer${education_container.children.length}'><div id="educate0"> <div class="row mt-3"> <div class="col"> <input required type="text" disabled value=${element.collegeName} name="collegeName" class="form-control" placeholder="College Name"> </div> <div class="col"> <input required type="text" disabled value=${element.degree} name="degree" class="form-control" placeholder="Degree"> </div> </div> <div class="row mt-3"> <div class="col"> <input required type="month" disabled value=${element.yearOfJoining} name="yoj" class="form-control" placeholder="Year of Joining"> </div> <div class="col"> <input required type="month" disabled value=${element.yearOfGraduation} name="yog" class="form-control" placeholder="Year of Graduation"> </div> </div> </div> <hr/> `
                education_container.insertAdjacentHTML('beforeend', addCompanyFields)
            });
        }
    });

    function changeForm() {
        document.getElementById("candidateForm").submit();
    }

    function downloadFiles(){
        let atags = document.querySelectorAll("a[name=downloadDoc]")
        atags.forEach(element => {            
            // console.log(element.href)
            window.open(element.href)
        });
    }

</script>

{% endblock %}